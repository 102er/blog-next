---
title: mysql索引介绍
date: 2020-03-12 14:31:03
categories:
    - 存储
tags:
    - mysql
---

## 概述

　　索引是一个单独的、存储在磁盘上的数据库结构，它们包含着对数据表里所有记录的引用指针。简单来说，索引就是一本书的目录，如果没有建立索引，我们需要看书的某个主题内容，只能从头到尾翻（这就是全表扫描），如果这本书有目录，那么我们只要按照目录查找，很快就可以定位主题所在页。索引，是帮助MySQL高效获取数据的数据结构。

<!-- more -->

## B树和B+树

目前大部分数据库系统及文件系统都采用B-Tree或其变种B+Tree作为索引结构，mysql中索引常用的数据结构是B+树。Mysql实际是将索引数据存储在索引页中的，如果索引页中的数据越来越多，索引页同样会进行页分裂。这样索引页也就形成了不同的层级，索引页层、索引页、数据页这三个页数据就形成了我们说的B+树。

- B-Tree：一种多路搜索树，关键字分布在整棵树中，任何一个关键字出现且只出现在一个结点中
- B+Tree：一种多路搜索树，所有关键字都出现在叶子结点的链表中（稠密索引），且链表中的关键字恰好是有序的；非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储（关键字）数据的数据层；

正常来说索引本身数据量很大，不可能全部存储在内存中，一般是以文件形式存储在磁盘上。那么扫描文件产生磁盘I/O消耗会影响查询的效率，一个好的索引结构组织就是要尽量减少查找过程中磁盘I/O的存取次数。<u>B+树相对于B树，因为其非叶子节点并没有指向关键字具体信息的指针，因此内部结构相对B树更小，那么相同的文件B+树可以容纳更多的关键字数量，一次性读入内存中的数量更多，相对来说就是减少了IO读写次数，从而提高了查询效率</u>；另外，非叶子节点不指向数据，B+树的搜索每次都必须到叶子节点，每次查询的路径长度相同，所以其查询效率更加稳定。

## 索引分类

