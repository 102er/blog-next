---
title: go初始化函数-init
date: 2020-04-10 15:21:12
categories:
    - GO
tags:
    - go开发
---

## init()函数是什么？

 `init()` 函数是隐式调用的，即会在包引入就执行，在编译的时候，已经确保 `init` 会在 `main`执行之前就被调用。

<!-- more -->

## 函数特点

- 程序运行前，进行包的初始化工作
- 每个包，每个go文件可以拥有多个init函数，<u>顺序不能保证从上到下执行</u>
- 没有参数，不能被其他函数调用，是在<u>main函数执行前自动被调用</u>
- 只会执行一次，即使这个包被多个包import

## 调用顺序

go程序初始化执行顺序：import --> const --> var --> init()

![osi](https://102er.github.io/uploads/init.png)

1. 如果一个包导入了其他包，则首先初始化导入的包。
2. 然后初始化当前包的常量。
3. 接下来初始化当前包的变量。
4. 最后，调用当前包的 `init()` 函数。
